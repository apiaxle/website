<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html class="not-ie" lang="en">
<!--<![endif]-->
<head>
{% include meta.html %}

<!--Fav and touch icons-->
<link rel="shortcut icon" href="/img/icons/favicon.ico">
<link rel="apple-touch-icon" href="/img/icons/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="/img/icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="/img/icons/apple-touch-icon-114x114.png">

<!--google web font-->
<link href='http://fonts.googleapis.com/css?family=Raleway:400,600,700' rel='stylesheet' type='text/css'>

<!--style sheet-->
<link rel="stylesheet" media="screen" href="/css/bootstrap.css"/>
<link rel="stylesheet" media="screen" href="/css/bootstrap-responsive.css"/>
<link rel="stylesheet" media="screen" href="/css/style.css"/>
<link rel="stylesheet" media="screen" href="/css/custom.css"/>
<link rel="stylesheet" media="screen" href="/css/docs.css"/>
<link rel="stylesheet" href="/css/font-awesome.min.css" />

<!--jquery libraries / others are at the bottom-->
<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
<script src="js/modernizr.js" type="text/javascript"></script>
<script src="https://raw.github.com/jgallen23/toc/master/dist/jquery.toc.min.js"></script>

    <script type="text/javascript">
      var toc_options = {
        "container": ".container",
        "selectors": "h1,h2"
      };

      $( function () { $('#toc').toc(toc_options) } );
    </script>

{% include ga.html %}

</head>
<body>

{% include header.html %}
<section id="content" >
  <div class="container">
    <div class="row">
      <div class="spacer-40px"></div>

      <div class="span12">
        {% include docs.html %}
        <h1>ApiAxle API documentation</h1>

        <div class="quick-reference">
          <h2>Quick Reference</h2>
          <table class="table">
            <tr><th>Endpoint</th><th>Description</th><th>Supported Methods</th></tr> 
            <tr><td><a href='#api'>/api/:api</a></td><td>Provision and manage APIs</td><td>GET POST DELETE PUT</td></tr>
            <tr><td><a href='#'>/api/:api/keys</a></td><td>List Keys associated with API</td><td>GET</td></tr>
            <tr><td><a href='#'>/api/:api/linkkey/:key</a></td><td>Associate a Key with an API</td><td>PUT</td></tr>
            <tr><td><a href='#'>/api/:api/stats</a></td><td>Access Key Stats</td><td>GET</td></tr>
          </table>
        </div>

        <div class="usage">
            <h2>URI Structure</h2>
            <p>
              All ApiAxle requests are prefixed with the version tag (currrently 
              'v1') with the next segment of the endpoint indicating the type of
              resource we wish to work with. <br />
              For example the following will retrieve a list of APIs:
              <p>
                <code>curl -X GET 'http://localhost:3001/v1/apis'</code>
              </p>
            </p>
            <p>
              To work with a specific resource we specify it as the next
              segment following the resource type.<br />
              For example DELETING an API called 'testapi'
              <p>
                <code>curl -X DELETE 'http://localhost:3001/v1/api/testapi'</code>
              </p>
            </p>
            <h2>Response Structure</h2>
            <p>
              All API responses are in JSON and include a meta and results
              block.<br />
              The meta block contains the api version and status code. The results
              block will either be an object or list depending on call.<br />

              The following is example output from the <code>/v1/apis</code> call.
              <div class="well">
                {<br />
                &nbsp;&nbsp;"meta": {<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"version": 1, <br />
                &nbsp;&nbsp;&nbsp;&nbsp;"status_code": 200 <br />
                &nbsp;&nbsp;}, <br />
                &nbsp;&nbsp;"results": [ <br />
                &nbsp;&nbsp;&nbsp;&nbsp;"testapi" <br />
                &nbsp;&nbsp;]<br />
                }<br />
              </div>
              In the following command reference examples only the contents of
              the results field is documents.
            </p>
        </div>

        <hr />

        <div id="api">
          <h2>/v1/api/:api</h2>
          <p>
            Create, manage and delete a single API. The ':api' segment of the
            URI refers to the API name as defined when using the <strong>POST</strong>
            method to create a new API.
          </p>
          <p>
            <h3>Create a new API <strong>POST</strong></h3>
            <p>
              <code>curl -X POST 'http://localhost:3001/v1/api/testapi'</code>
            </p>
            <p>
              <h4>Input</h4>
              <table class="table">
                <tr><td>endPoint</td><td>String (required)</td></tr>
                <tr><td>protocol</td><td>String (default 'http')</td></tr>
                <tr><td>apiFormat</td><td>String (default 'json')</td></tr>
                <tr><td>globalCache</td><td>Time in seconds that each API call should be cached</td></tr>
                <tr><td>endPointTimeout</td><td>Time in seconds before timing out the connection (default 2)</td></tr>
                <tr><td>endPointMaxRedirects</td><td>Integer (default 2)</td></tr>
                <tr><td>extractKeyRegex</td><td>String, regular expression used to extract key from URL. <a href='#'>See usage example</a></td></tr>
                <tr><td>disabled</td><td>Boolean</td></tr>
                <tr><td>createdAt</td><td>Unix timestamp</td></tr>
              </table>
            </p>
            <p>
              <h4>Response</h4>
              <p>
                A JSON containing with the following
              </p>
              <table class="table">
                <tr><td>endPoint</td><td>String</td></tr>
                <tr><td>protocol</td><td>String</td></tr>
                <tr><td>apiFormat</td><td>String</td></tr>
                <tr><td>globalCache</td><td>Time in seconds</td></tr>
                <tr><td>endPointTimeout</td><td>Time in seconds</td></tr>
                <tr><td>endPointMaxRedirects</td><td>Integer</td></tr>
                <tr><td>disabled</td><td>Boolean</td></tr>
                <tr><td>createdAt</td><td>Unix timestamp</td></tr>
              </table>
            </p>
          <p>
            <h3>Get API definition <strong>GET</strong></h3>
            <p>
              <code>curl -X GET 'http://localhost:3001/v1/api/testapi'</code>
            </p>
            <p>
              <h4>Response</h4>
              <p>
                The same structure as <strong>POST</strong>
              </p>
            </p>
        </div>

        

        <div class="spacer-40px"></div>

        <!--<div id="toc"></div>-->

        <div class="spacer-40px"></div>
        <hr />

        <!--<div id="documentation">{{ content }}</div>-->
      </div>
    </div>
  </div>
</section>

{% include footer.html %}

<!--other jqueries required-->
<script src="js/bootstrap.js" type="text/javascript" ></script>
<script src="js/ddsmoothmenu.js" type="text/javascript" ></script>
<script src="js/twitter.js" type="text/javascript" ></script>
<script src="js/jquery.easing.1.3.js" type="text/javascript" ></script>
<script src="js/custom.js" type="text/javascript" ></script>
</body>
</html>
